<!DOCTYPE html>
<html>

<head>
    <title>Change Players</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body {
            min-height: 100vh;
            width: 100%;
        }

        #main {
            height: 100vh;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .pawns {
            width: 35px;
            height: 35px;
            border-radius: 20px;
            position: absolute;
        }

        #board {
            background: url(/KidsCoding/coding_kids/images/Ludo_Imgs/board.gif) no-repeat;
            background-size: cover;
            width: 550px;
            height: 550px;
            float: left;
            margin-top: 8px;
            border-top-left-radius: 25px;
            border-top-right-radius: 25px;
            position: relative;
        }

        #uselesstext1 {
            float: left;
            padding-left: 10px;
            padding-right: 10px;
        }

        .parantpawn {
            position: absolute;
        }
    </style>
</head>

<body>
    <div id="main">
        <div id="board">
            <div class="parantpawn">

                <div class="pawns" id="redpawn1" onclick="randomMove('red',1)"
                    style="background-color:red;top:83px;left:479px;"></div>
                <div class="pawns" id="redpawn2" onclick="randomMove('red',2)"
                    style="background-color:red;top:83px;left:385px;"></div>
                <div class="pawns" id="redpawn3" onclick="randomMove('red',3)"
                    style="background-color:red;top:36px;left:432px;"></div>
                <div class="pawns" id="redpawn4" onclick="randomMove('red',4)"
                    style="background-color:red;top:130px;left:432px;"></div>

                <div class="pawns" id="yellowpawn1" onclick="randomMove('yellow',1)"
                    style="background-color:yellow;top:479px;left:83px;"></div>
                <div class="pawns" id="yellowpawn2" onclick="randomMove('yellow',2)"
                    style="background-color:yellow;top:385px;left:83px;"></div>
                <div class="pawns" id="yellowpawn3" onclick="randomMove('yellow',3)"
                    style="background-color:yellow;top:432px;left:130px;"></div>
                <div class="pawns" id="yellowpawn4" onclick="randomMove('yellow',4)"
                    style="background-color:yellow;top:432px;left:36px;"></div>

                <div class="pawns" id="greenpawn1" onclick="randomMove('green',1)"
                    style="background-color:green;top:36px;left:83px;"></div>
                <div class="pawns" id="greenpawn2" onclick="randomMove('green',2)"
                    style="background-color:green;top:83px;left:35px;"></div>
                <div class="pawns" id="greenpawn3" onclick="randomMove('green',3)"
                    style="background-color:green;top:83px;left:130px;"></div>
                <div class="pawns" id="greenpawn4" onclick="randomMove('green',4)"
                    style="background-color:green;top:130px;left:82px;"></div>

                <div class="pawns" id="bluepawn1" onclick="randomMove('blue',1)"
                    style="background-color:blue;top:433px;left:479px;"></div>
                <div class="pawns" id="bluepawn2" onclick="randomMove('blue',2)"
                    style="background-color:blue;top:433px;left:385px;"></div>
                <div class="pawns" id="bluepawn3" onclick="randomMove('blue',3)"
                    style="background-color:blue;top:385px;left:432px;"></div>
                <div class="pawns" id="bluepawn4" onclick="randomMove('blue',4)"
                    style="background-color:blue;top:480px;left:432px;"></div>
            </div>
        </div>
        <div>

            <div id="dice" onclick="randomNum()"
                style="background-image:url(/KidsCoding/coding_kids/images/Ludo_Imgs/dice.gif);background-size:contain; width:150px;height:150px; float:left;">
            </div>
            <div>
                <div>
                    <h4 id="uselesstext1">It`s </h4>
                    <h3 id="player" style="float:left; color:red">red</h3>
                    <h4 id="uselesstext2">'s turn</h4>
                </div>
                <div>
                    <p id="badtext" style="float:left;"></p>
                </div>
            </div>
        </div>

    </div>

    <script>
        var currPos = 0;
        var num = 0;
        var clicked = false;
        var currpawn = "";

        function randomNum() {
            if (!clicked) {
                num = Math.floor((Math.random() * 6) + 1);;
                var dice = document.getElementById('dice');
                dice.style.backgroundImage = "url(/KidsCoding/coding_kids/images/Ludo_Imgs/" + num + ".jpg)";
                clicked = true;
            }
            if (num != 6 && DontHaveOtherFree()) {
                var bad = document.getElementById('badtext');
                bad.innerText = "Stuck";
                window.setTimeout(changePlayer, 1000);
                clicked = false;
            }
        }

        var positions = {
            redpawn1: 0,
            redpawn2: 0,
            redpawn3: 0,
            redpawn4: 0,
            bluepawn1: 0,
            bluepawn2: 0,
            bluepawn3: 0,
            bluepawn4: 0,
            greenpawn1: 0,
            greenpawn2: 0,
            greenpawn3: 0,
            greenpawn4: 0,
            yellowpawn1: 0,
            yellowpawn2: 0,
            yellowpawn3: 0,
            yellowpawn4: 0
        };
        var onboard = {
            redpawn1: 0,
            redpawn2: 0,
            redpawn3: 0,
            redpawn4: 0,
            bluepawn1: 0,
            bluepawn2: 0,
            bluepawn3: 0,
            bluepawn4: 0,
            greenpawn1: 0,
            greenpawn2: 0,
            greenpawn3: 0,
            greenpawn4: 0,
            yellowpawn1: 0,
            yellowpawn2: 0,
            yellowpawn3: 0,
            yellowpawn4: 0
        };

        function DontHaveOtherFree() {
            var text = document.getElementById('player');
            for (var i = 1; i <= 4; i++) {
                if (onboard[text.innerText + "pawn" + i] == 1 || positions[text.innerText + "pawn" + i] + num >= 44)
                    return false;
            }
            return true;
        }

        function changePlayer() {
            if (num != 6) {
                var text = document.getElementById('player');
                switch (text.innerText) {
                    case "red":
                        text.innerText = text.style.color = "blue";
                        break;
                    case "blue":
                        text.innerText = text.style.color = "yellow";
                        break;
                    case "yellow":
                        text.innerText = text.style.color = "green";
                        break;
                    case "green":
                        text.innerText = text.style.color = "red";
                        break;
                }
            }
            var badtext = document.getElementById('badtext');
            badtext.innerText = "";
            var dice = document.getElementById('dice');
            dice.style.backgroundImage = "url(/KidsCoding/coding_kids/images/Ludo_Imgs/dice.gif)";
        }

        function Stuck() {
            var text = document.getElementById('player');
            if (onboard[currpawn] == 0 || currPos + num > 44) {
                if (DontHaveOtherFree() || currPos + num > 44) {
                    var badtext = document.getElementById('badtext');
                    badtext.innerText = "Stuck";
                    clicked = false;
                    var dice = document.getElementById('dice');
                    dice.style.backgroundImage = "url(/KidsCoding/coding_kids/images/Ludo_Imgs/dice.gif)";
                    window.setTimeout(changePlayer, 1000);
                }
            }
        }
    </script>
</body>

</html>